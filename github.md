# Git 活用法

## Git とは

    分散型バージョン管理システム

## 用語解説

### リポジトリ

ほぼプロジェクトの意味

1. リモートリポジトリ

   - 専用のサーバに配置して複数人で共有するためのリポジトリ

2. ローカルリポジトリ
   - ユーザーごとに自分の PC 上に配置するリポジトリ

普段の作業はローカルリポジトリで行い、この作業変更を他の人にも公開したい場合には、リモートリポジトリに変更を保存する

Fig. 1.1
![](/images/repository_image.png)

### ブランチ

一つのリポジトリ内で複数の変更を並行して行いたい場合に利用される
分岐したブランチは他のブランチの影響を受けず、複数の変更を同時に進めて言うことができる

Fig. 1.2
![](/images/branch_image.png)

### HEAD

現在のブランチの先頭

### ワークツリーとインデックス

ワークツリー

- 実際に作業をしているディレクトリ

インデックス

- リポジトリとワークツリーの間にある
- リポジトリにコミットする準備を行う

コミットする際にワークツリー内の変更をそのままリポジトリに記録するのではなく、インデックスに登録されたファイルをリポジトリに記録する

(なぜ？)

- 必要なファイルのみインデックスに登録してコミットすることができる

## コマンド

1. リポジトリの作成

   `$ git init`

2. 変更ファイルの確認

   `$ git status`

3. ファイルやディレクトリのインデックスへの登録

   `$ git add <filepattern>`

   - 全てを登録したい場合
     - `git add .`
   - 識別子が「.js」のファイルだけを指定
     - `git add *.js`

   [option]

   `-p`

   - ファイルの変更箇所の一部のみを登録

   `-i`

   - 対話形式でファイルの選択が可能

4. インデックスに登録されたファイルのコミット

   `$ git commit -m "<commit message>"`

5. リモートリポジトリのブランチに変更内容を反映

   `$ git push <repository> <refspec>`

   - \<repository> はリモートリポジトリ名
   - \<refspec> は反映させたいブランチ名

6. リモートリポジトリのブランチの変更内容を取り込む

   `$ git pull <repository> <refspec>`

   - \<repository> はリモートリポジトリ名
   - \<refspec> は反映させたいブランチ名
   - pull = fetch + merge

7. ブランチの移動

   `$ git checkout <branch>`

   `-b`

   - ブランチの作成と作成したブランチへの切替

8. ブランチをマージ

   `$ git checkout <mergeされたいbranch>`

   `$ git merge <mergeしたいbranch>`

9. 既存のリモートリポジトリの複製

   `$ git clone <url>`

10. リモートリポジトリの追加

    `$ git remote add <name> <url>`

    - \<name>はリモートリポジトリ名(大体`origin`)

## その他

[こちら](https://backlog.com/ja/git-tutorial/reference/)を参考にしてください
